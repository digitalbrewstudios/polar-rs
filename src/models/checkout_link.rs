/*
 * Polar API
 *
 * Read the docs at https://polar.sh/docs/api-reference
 *
 * The version of the OpenAPI document: 0.1.0
 *
 * Generated by: https://openapi-generator.tech
 */

use crate::models;
use serde::{Deserialize, Serialize};

/// CheckoutLink : Checkout link data.
#[derive(Clone, Default, Debug, PartialEq, Serialize, Deserialize)]
pub struct CheckoutLink {
    /// The ID of the object.
    #[serde(rename = "id")]
    pub id: String,
    /// Creation timestamp of the object.
    #[serde(rename = "created_at")]
    pub created_at: String,
    #[serde(rename = "modified_at", deserialize_with = "Option::deserialize")]
    pub modified_at: Option<String>,
    #[serde(rename = "trial_interval", deserialize_with = "Option::deserialize")]
    pub trial_interval: Option<models::TrialInterval>,
    #[serde(
        rename = "trial_interval_count",
        deserialize_with = "Option::deserialize"
    )]
    pub trial_interval_count: Option<i32>,
    #[serde(rename = "metadata")]
    pub metadata: std::collections::HashMap<String, models::MetadataValue>,
    /// Payment processor used.
    #[serde(rename = "payment_processor")]
    pub payment_processor: models::PaymentProcessor,
    /// Client secret used to access the checkout link.
    #[serde(rename = "client_secret")]
    pub client_secret: String,
    #[serde(rename = "success_url", deserialize_with = "Option::deserialize")]
    pub success_url: Option<String>,
    #[serde(rename = "label", deserialize_with = "Option::deserialize")]
    pub label: Option<String>,
    /// Whether to allow the customer to apply discount codes. If you apply a discount through `discount_id`, it'll still be applied, but the customer won't be able to change it.
    #[serde(rename = "allow_discount_codes")]
    pub allow_discount_codes: bool,
    /// Whether to require the customer to fill their full billing address, instead of just the country. Customers in the US will always be required to fill their full address, regardless of this setting.
    #[serde(rename = "require_billing_address")]
    pub require_billing_address: bool,
    #[serde(rename = "discount_id", deserialize_with = "Option::deserialize")]
    pub discount_id: Option<String>,
    /// The organization ID.
    #[serde(rename = "organization_id")]
    pub organization_id: String,
    #[serde(rename = "products")]
    pub products: Vec<models::CheckoutLinkProduct>,
    #[serde(rename = "discount", deserialize_with = "Option::deserialize")]
    pub discount: Option<Box<models::CheckoutLinkDiscount>>,
    #[serde(rename = "url")]
    pub url: String,
}

impl CheckoutLink {
    /// Checkout link data.
    pub fn new(
        id: String,
        created_at: String,
        modified_at: Option<String>,
        trial_interval: Option<models::TrialInterval>,
        trial_interval_count: Option<i32>,
        metadata: std::collections::HashMap<String, models::MetadataValue>,
        payment_processor: models::PaymentProcessor,
        client_secret: String,
        success_url: Option<String>,
        label: Option<String>,
        allow_discount_codes: bool,
        require_billing_address: bool,
        discount_id: Option<String>,
        organization_id: String,
        products: Vec<models::CheckoutLinkProduct>,
        discount: Option<models::CheckoutLinkDiscount>,
        url: String,
    ) -> CheckoutLink {
        CheckoutLink {
            id,
            created_at,
            modified_at,
            trial_interval,
            trial_interval_count,
            metadata,
            payment_processor,
            client_secret,
            success_url,
            label,
            allow_discount_codes,
            require_billing_address,
            discount_id,
            organization_id,
            products,
            discount: discount.map(Box::new),
            url,
        }
    }
}
