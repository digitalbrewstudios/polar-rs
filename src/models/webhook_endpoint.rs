/*
 * Polar API
 *
 * Read the docs at https://polar.sh/docs/api-reference
 *
 * The version of the OpenAPI document: 0.1.0
 *
 * Generated by: https://openapi-generator.tech
 */

use crate::models;
use serde::{Deserialize, Serialize};

/// WebhookEndpoint : A webhook endpoint.
#[derive(Clone, Default, Debug, PartialEq, Serialize, Deserialize)]
pub struct WebhookEndpoint {
    /// Creation timestamp of the object.
    #[serde(rename = "created_at")]
    pub created_at: String,
    #[serde(rename = "modified_at", deserialize_with = "Option::deserialize")]
    pub modified_at: Option<String>,
    /// The ID of the object.
    #[serde(rename = "id")]
    pub id: String,
    /// The URL where the webhook events will be sent.
    #[serde(rename = "url")]
    pub url: String,
    /// The format of the webhook payload.
    #[serde(rename = "format")]
    pub format: models::WebhookFormat,
    /// The secret used to sign the webhook events.
    #[serde(rename = "secret")]
    pub secret: String,
    /// The organization ID associated with the webhook endpoint.
    #[serde(rename = "organization_id")]
    pub organization_id: String,
    /// The events that will trigger the webhook.
    #[serde(rename = "events")]
    pub events: Vec<models::WebhookEventType>,
    /// Whether the webhook endpoint is enabled and will receive events.
    #[serde(rename = "enabled")]
    pub enabled: bool,
}

impl WebhookEndpoint {
    /// A webhook endpoint.
    pub fn new(
        created_at: String,
        modified_at: Option<String>,
        id: String,
        url: String,
        format: models::WebhookFormat,
        secret: String,
        organization_id: String,
        events: Vec<models::WebhookEventType>,
        enabled: bool,
    ) -> WebhookEndpoint {
        WebhookEndpoint {
            created_at,
            modified_at,
            id,
            url,
            format,
            secret,
            organization_id,
            events,
            enabled,
        }
    }
}
