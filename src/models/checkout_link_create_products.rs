/*
 * Polar API
 *
 * Read the docs at https://polar.sh/docs/api-reference
 *
 * The version of the OpenAPI document: 0.1.0
 *
 * Generated by: https://openapi-generator.tech
 */

use crate::models;
use serde::{Deserialize, Serialize};

/// CheckoutLinkCreateProducts : Schema to create a new checkout link.
#[derive(Clone, Default, Debug, PartialEq, Serialize, Deserialize)]
pub struct CheckoutLinkCreateProducts {
    /// Key-value object allowing you to store additional information.  The key must be a string with a maximum length of **40 characters**. The value must be either:  * A string with a maximum length of **500 characters** * An integer * A floating-point number * A boolean  You can store up to **50 key-value pairs**.
    #[serde(rename = "metadata", skip_serializing_if = "Option::is_none")]
    pub metadata: Option<std::collections::HashMap<String, models::MetadataValue1>>,
    #[serde(
        rename = "trial_interval",
        default,
        with = "::serde_with::rust::double_option",
        skip_serializing_if = "Option::is_none"
    )]
    pub trial_interval: Option<Option<models::TrialInterval>>,
    #[serde(
        rename = "trial_interval_count",
        default,
        with = "::serde_with::rust::double_option",
        skip_serializing_if = "Option::is_none"
    )]
    pub trial_interval_count: Option<Option<i32>>,
    /// Payment processor to use. Currently only Stripe is supported.
    #[serde(rename = "payment_processor")]
    pub payment_processor: PaymentProcessor,
    #[serde(
        rename = "label",
        default,
        with = "::serde_with::rust::double_option",
        skip_serializing_if = "Option::is_none"
    )]
    pub label: Option<Option<String>>,
    /// Whether to allow the customer to apply discount codes. If you apply a discount through `discount_id`, it'll still be applied, but the customer won't be able to change it.
    #[serde(
        rename = "allow_discount_codes",
        skip_serializing_if = "Option::is_none"
    )]
    pub allow_discount_codes: Option<bool>,
    /// Whether to require the customer to fill their full billing address, instead of just the country. Customers in the US will always be required to fill their full address, regardless of this setting.
    #[serde(
        rename = "require_billing_address",
        skip_serializing_if = "Option::is_none"
    )]
    pub require_billing_address: Option<bool>,
    #[serde(
        rename = "discount_id",
        default,
        with = "::serde_with::rust::double_option",
        skip_serializing_if = "Option::is_none"
    )]
    pub discount_id: Option<Option<String>>,
    #[serde(
        rename = "success_url",
        default,
        with = "::serde_with::rust::double_option",
        skip_serializing_if = "Option::is_none"
    )]
    pub success_url: Option<Option<String>>,
    /// List of products that will be available to select at checkout.
    #[serde(rename = "products")]
    pub products: Vec<String>,
}

impl CheckoutLinkCreateProducts {
    /// Schema to create a new checkout link.
    pub fn new(
        payment_processor: PaymentProcessor,
        products: Vec<String>,
    ) -> CheckoutLinkCreateProducts {
        CheckoutLinkCreateProducts {
            metadata: None,
            trial_interval: None,
            trial_interval_count: None,
            payment_processor,
            label: None,
            allow_discount_codes: None,
            require_billing_address: None,
            discount_id: None,
            success_url: None,
            products,
        }
    }
}
/// Payment processor to use. Currently only Stripe is supported.
#[derive(Clone, Copy, Debug, Eq, PartialEq, Ord, PartialOrd, Hash, Serialize, Deserialize)]
pub enum PaymentProcessor {
    #[serde(rename = "stripe")]
    Stripe,
}

impl Default for PaymentProcessor {
    fn default() -> PaymentProcessor {
        Self::Stripe
    }
}
