/*
 * Polar API
 *
 * Read the docs at https://polar.sh/docs/api-reference
 *
 * The version of the OpenAPI document: 0.1.0
 *
 * Generated by: https://openapi-generator.tech
 */

use crate::models;
use serde::{Deserialize, Serialize};

/// OrderPaidEvent : An event created by Polar when an order is paid.
#[derive(Clone, Default, Debug, PartialEq, Serialize, Deserialize)]
pub struct OrderPaidEvent {
    /// The ID of the object.
    #[serde(rename = "id")]
    pub id: String,
    /// The timestamp of the event.
    #[serde(rename = "timestamp")]
    pub timestamp: String,
    /// The ID of the organization owning the event.
    #[serde(rename = "organization_id")]
    pub organization_id: String,
    #[serde(rename = "customer_id", deserialize_with = "Option::deserialize")]
    pub customer_id: Option<String>,
    #[serde(rename = "customer", deserialize_with = "Option::deserialize")]
    pub customer: Option<Box<models::Customer>>,
    #[serde(
        rename = "external_customer_id",
        deserialize_with = "Option::deserialize"
    )]
    pub external_customer_id: Option<String>,
    /// The source of the event. `system` events are created by Polar. `user` events are the one you create through our ingestion API.
    #[serde(rename = "source")]
    pub source: Source,
    /// The name of the event.
    #[serde(rename = "name")]
    pub name: Name,
    #[serde(rename = "metadata")]
    pub metadata: Box<models::OrderPaidMetadata>,
}

impl OrderPaidEvent {
    /// An event created by Polar when an order is paid.
    pub fn new(
        id: String,
        timestamp: String,
        organization_id: String,
        customer_id: Option<String>,
        customer: Option<models::Customer>,
        external_customer_id: Option<String>,
        source: Source,
        name: Name,
        metadata: models::OrderPaidMetadata,
    ) -> OrderPaidEvent {
        OrderPaidEvent {
            id,
            timestamp,
            organization_id,
            customer_id,
            customer: customer.map(Box::new),
            external_customer_id,
            source,
            name,
            metadata: Box::new(metadata),
        }
    }
}
/// The source of the event. `system` events are created by Polar. `user` events are the one you create through our ingestion API.
#[derive(Clone, Copy, Debug, Eq, PartialEq, Ord, PartialOrd, Hash, Serialize, Deserialize)]
pub enum Source {
    #[serde(rename = "system")]
    System,
}

impl Default for Source {
    fn default() -> Source {
        Self::System
    }
}
/// The name of the event.
#[derive(Clone, Copy, Debug, Eq, PartialEq, Ord, PartialOrd, Hash, Serialize, Deserialize)]
pub enum Name {
    #[serde(rename = "order.paid")]
    OrderPaid,
}

impl Default for Name {
    fn default() -> Name {
        Self::OrderPaid
    }
}
